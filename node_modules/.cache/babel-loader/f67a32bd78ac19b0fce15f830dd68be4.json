{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\louis\\\\OneDrive\\\\Desktop\\\\Funix\\\\React\\\\Assignment 02\\\\Assignment 02 (Starter Code)\\\\src\\\\pages\\\\search\\\\ResultList\\\\ResultList.jsx\";\nimport React, { useCallback, useContext, useState } from \"react\";\nimport MovieSearchContext from \"../../../MovieSearchContext/MovieSearchContext\";\nimport MovieDetail from \"../../browse/MovieList/MovieDetail/MovieDetail\";\nimport { IMAGE_BASE_URL } from \"../../API\";\nimport './resultList.css';\nfunction ResultList() {\n  const {\n    resultSearch\n  } = useContext(MovieSearchContext);\n  const [selectMovie, setSelectMovie] = useState(null);\n  console.log(resultSearch);\n  // handle when click the movie\n  const handleSelectMovie = useCallback(item => {\n    setSelectMovie(prevMovieSelect => prevMovieSelect && prevMovieSelect.id === item.id ? null : item);\n  }, []);\n\n  // handle close button\n  const handleCloseBtn = () => {\n    setSelectMovie(null);\n  };\n\n  // Function to get backdrop image URL from known_for items\n  const getBackdropFromKnownFor = knownFor => {\n    if (knownFor && knownFor.length > 0) {\n      const firstKnownFor = knownFor[0];\n      if (firstKnownFor.backdrop_path) {\n        return `${IMAGE_BASE_URL}${firstKnownFor.backdrop_path}`;\n      }\n    }\n    return 'https://via.placeholder.com/150'; // Fallback image URL\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"resultList_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Search Result\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"SearchMovieList_grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, resultSearch.map((item, index) => {\n    const posterPath = item.poster_path ? `${IMAGE_BASE_URL}${item.poster_path}` : '';\n    const backdropPath = item.backdrop_path ? `${IMAGE_BASE_URL}${item.backdrop_path}` : '';\n    const imageUrl = backdropPath || posterPath || getBackdropFromKnownFor(item.known_for) || 'https://via.placeholder.com/150';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"SearchMovie_item\",\n      onClick: () => handleSelectMovie(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: imageUrl,\n      alt: item.title || item.name,\n      className: \"searchMovieList_item\",\n      onError: e => {\n        e.target.onerror = null; // Prevent infinite loop in case fallback image also fails\n        e.target.src = 'https://via.placeholder.com/150'; // Fallback image URL\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"SearchMovieItem_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, item.title || item.name));\n  })), selectMovie && /*#__PURE__*/React.createElement(MovieDetail, {\n    movie: selectMovie,\n    onClose: handleCloseBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }));\n}\nexport default ResultList;","map":{"version":3,"names":["React","useCallback","useContext","useState","MovieSearchContext","MovieDetail","IMAGE_BASE_URL","ResultList","resultSearch","selectMovie","setSelectMovie","console","log","handleSelectMovie","item","prevMovieSelect","id","handleCloseBtn","getBackdropFromKnownFor","knownFor","length","firstKnownFor","backdrop_path","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","index","posterPath","poster_path","backdropPath","imageUrl","known_for","key","onClick","src","alt","title","name","onError","e","target","onerror","movie","onClose"],"sources":["C:/Users/louis/OneDrive/Desktop/Funix/React/Assignment 02/Assignment 02 (Starter Code)/src/pages/search/ResultList/ResultList.jsx"],"sourcesContent":["import React, { useCallback, useContext, useState } from \"react\";\r\nimport MovieSearchContext from \"../../../MovieSearchContext/MovieSearchContext\";\r\nimport MovieDetail from \"../../browse/MovieList/MovieDetail/MovieDetail\";\r\nimport { IMAGE_BASE_URL } from \"../../API\";\r\nimport './resultList.css';\r\n\r\nfunction ResultList() {\r\n    const { resultSearch } = useContext(MovieSearchContext);\r\n    const [selectMovie, setSelectMovie] = useState(null);\r\nconsole.log(resultSearch)\r\n    // handle when click the movie\r\n    const handleSelectMovie = useCallback((item) => {\r\n        setSelectMovie((prevMovieSelect) => (prevMovieSelect && prevMovieSelect.id === item.id) ? null : item);\r\n    }, []);\r\n\r\n    // handle close button\r\n    const handleCloseBtn = () => {\r\n        setSelectMovie(null);\r\n    };\r\n\r\n    // Function to get backdrop image URL from known_for items\r\n    const getBackdropFromKnownFor = (knownFor) => {\r\n        if (knownFor && knownFor.length > 0) {\r\n            const firstKnownFor = knownFor[0];\r\n            if (firstKnownFor.backdrop_path) {\r\n                return `${IMAGE_BASE_URL}${firstKnownFor.backdrop_path}`;\r\n            }\r\n        }\r\n        return 'https://via.placeholder.com/150'; // Fallback image URL\r\n    };\r\n\r\n    return (\r\n        <div className=\"resultList_container\">\r\n            <h4 className=\"mb-5\">Search Result</h4>\r\n            <div className=\"SearchMovieList_grid\">\r\n                {\r\n                    resultSearch.map((item, index) => {\r\n                        const posterPath = item.poster_path ? `${IMAGE_BASE_URL}${item.poster_path}` : '';\r\n                        const backdropPath = item.backdrop_path ? `${IMAGE_BASE_URL}${item.backdrop_path}` : '';\r\n                        const imageUrl = backdropPath || posterPath || getBackdropFromKnownFor(item.known_for) || 'https://via.placeholder.com/150';\r\n\r\n                        return (\r\n                            <div key={index} className=\"SearchMovie_item\" onClick={() => handleSelectMovie(item)}>\r\n                                <img \r\n                                    src={imageUrl}\r\n                                    alt={item.title || item.name}\r\n                                    className=\"searchMovieList_item\"\r\n                                    onError={(e) => {\r\n                                        e.target.onerror = null; // Prevent infinite loop in case fallback image also fails\r\n                                        e.target.src = 'https://via.placeholder.com/150'; // Fallback image URL\r\n                                    }}\r\n                                />\r\n                                <p className=\"SearchMovieItem_title\">{item.title || item.name}</p>\r\n                            </div>\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n            {selectMovie &&\r\n                <MovieDetail movie={selectMovie} onClose={handleCloseBtn} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ResultList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}